# 操作系统学习（九）——进程控制

## 知识总览

![image-20200802101123908](F:\笔记\操作系统\assets\操作系统学习（九）.png)

## 什么是进程控制？

进程控制的主要功能是对系统中的所有进程实施有效的管理，它具有创建新进程、撤销已有进程、实体进程状态转换等功能。

> 简单理解：反正进程控制就是要实现进程状态的转换。

![image-20200802101231543](F:\笔记\操作系统\assets\操作系统学习（九）-2.png)

## 如何实现进程控制？

![image-20200802101551762](F:\笔记\操作系统\assets\操作系统学习（九）-3.png)

用<font color="red">原语</font>实现进程控制。原语的**<font color="red">特点</font>**是执行期间<font color="red">**不允许中断**</font>，只能一气呵成。

这种不可被中断的操作即 原子操作。

原语采用 “<font color="red">**关中断**</font>指令” 和 “<font color="red">**开中断**</font>指令” 实现。

![image-20200802102140835](F:\笔记\操作系统\assets\操作系统学习（九）-4.png)

显然，<font color="red">**关/开中断指令**</font>的权限非常大，必然是只允许在<font color="red">**核心态**</font>下执行的<font color="red">**特权指令**</font>

## 进程控制相关的原语

学习技巧：进程控制会导致进程状态的转换。无论哪个原语，要做的无非三类事情：

1. 更新 PCB 中的信息（如修改进程状态标志、将运行环境保存到 PCB、从 PCB 恢复运行环境）
   * 所有的进程控制原语一定都会修改状态标志
   * 剥夺当前运行进程的 CPU 使用权必然需要保存其运行环境
   * 某进程开始运行前必然恢复期运行环境
2. 将 PCB 插入合适的队列
3. 分配/回收资源

![image-20200802103204903](F:\笔记\操作系统\assets\操作系统学习（九）-5.png)

![image-20200802103414695](F:\笔记\操作系统\assets\操作系统学习（九）-6.png)

![image-20200802103503080](F:\笔记\操作系统\assets\操作系统学习（九）-7.png)

![image-20200802103536006](F:\笔记\操作系统\assets\操作系统学习（九）-8.png)